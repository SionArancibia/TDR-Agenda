
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Usuario {
  id          String  @id @default(cuid())
  rut         String  @unique
  nombres     String
  apellidos   String
  domicilio   String
  edad        Int
  contrasena  String
  telefono    Int
  gender      Gender
  createAt    DateTime @default(now())
  role        Role
}

model Profesional {
  id         String  @id @default(cuid())
  nombre     String
  rut        String
  pacientes  Paciente[] 
  citas      Citas[]    
}

model Paciente {
  id            String      @id @default(cuid())
  nombre        String
  rut           String
  citas         Citas[]    
  profesional   Profesional @relation(fields: [profesionalId], references: [id])
  profesionalId String
}

model Citas {
  id             String      @id @default(cuid())
  fecha          DateTime
  paciente       Paciente    @relation(fields: [pacienteId], references: [id])
  pacienteId     String
  profesional    Profesional @relation(fields: [profesionalId], references: [id])
  profesionalId  String
}


model Administrador {
  id_Administrador  String  @id @default(cuid())
  rut               String  @unique
  mensajes          String
  bloquear_agenda   Boolean
  registro_profesional String
}

enum Gender {
  male
  female
}

enum Role {
  admin
  professional
  patient
}